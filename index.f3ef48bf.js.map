{"mappings":"AAAA,IAAMA,SAAW,CACbC,WAAYC,SAASC,cAAc,mBACnCC,KAAMF,SAASC,cAAc,aAGjC,SAASE,aAAaC,GAClBA,EAAIC,iBAGJ,IAAuBC,EAAAF,EAAIG,cAAcT,SAAjCU,EAAeF,EAAfE,KAAMC,EAASH,EAATG,KACdC,eAAeF,EAAKG,MAAOF,EAAKE,OAC3BC,MAAK,SAAAC,G,OAAQf,SAASI,KAAKY,UAAYC,aAAaF,EAAKG,SAASC,Y,IAClEC,OAAM,SAAAC,G,OAAOC,QAAQC,IAAIF,E,IAC7BG,SAAQ,W,OAAMlB,EAAImB,OAAOC,O,IAK9B,SAASd,eAAeF,EAAMC,GAC1B,IAIMgB,EAAS,IAAIC,gBAAgB,CACnCC,IAHgB,kCAIhBC,EAAGpB,EACHC,KAAMA,EACNoB,KAAM,OAGN,OAAOC,MAAM,GAAcC,OAXV,gCAWuBA,OAVtB,iBAUmB,KAAUA,OAAPN,IACnCb,MAAK,SAAAoB,GACF,IAAKA,EAAKC,GACN,MAAM,IAAIC,MAAMF,EAAKG,YAEzB,OAAOH,EAAKI,M,IAQxB,SAASrB,aAAasB,GAClB,OAAOA,EAAIC,KAAI,SAAAC,G,IAAEC,EAAID,EAAJC,KAAIC,EAAAF,EAAEG,IAAOC,EAASF,EAATE,UAASC,EAAAH,EAAEI,UAAaC,EAAIF,EAAJE,KAAMC,EAAIH,EAAJG,K,MAAY,gDAC1ChB,OAAde,EAAK,WACEf,OADOgB,EAAK,uDAEJhB,OADRS,EAAK,4CAEET,OADCgB,EAAK,2CACIhB,OAAVY,EAAU,wB,IAC9BK,KAAK,G,CA7CnBlD,SAASC,WAAWkD,iBAAiB,SAAU9C","sources":["src/index.js"],"sourcesContent":["const elements = {\n    searchForm: document.querySelector('.js-search-form'),\n    list: document.querySelector('.js-list')\n}\nelements.searchForm.addEventListener('submit', onFormSubmit);\nfunction onFormSubmit(evt) {\n    evt.preventDefault();\n\n    // console.dir(evt.currentTarget);\n    const { city, days } = evt.currentTarget.elements;\n    serviceWeather(city.value, days.value)\n        .then(data => elements.list.innerHTML = createMarkup(data.forecast.forecastday))\n        .catch(err => console.log(err))\n    .finally(() => evt.target.reset())\n    // console.log(city.value);\n    // console.log(days.value);\n}\n\nfunction serviceWeather(city, days) {\n    const BASE_URL = 'http://api.weatherapi.com/v1';\n    const END_POINT = '/forecast.json';\n    const API_KEY = '480872f1fc5b49d2b1c112419232309'\n\n    const params = new URLSearchParams({\n    key: API_KEY,\n    q: city,\n    days: days,\n    lang: \"uk\",\n  });\n\n    return fetch(`${BASE_URL}${END_POINT}?${params}`)\n        .then(resp => {\n            if (!resp.ok) {\n                throw new Error(resp.statusText);\n            }\n            return resp.json()\n        });\n\n    \n    // fetch(`${BASE_URL}${END_POINT}?key=${API_KEY}&q=${city}&days=${days}&lang=uk`)\n}\n\n\nfunction createMarkup(arr) {\n    return arr.map(({date, day : {avgtemp_c, condition : {icon, text}}}) => `<li class=\"weather-card\">\n        <img src=\"${icon}\" alt=\"${text}\" class=\"weather-icon\"/>\n        <h2 class=\"date\">${date}</h2>\n        <h3 class=\"weather-text\">${text}</h3>\n        <h3 class=\"temperature\">${avgtemp_c} Â°C</h3>\n      </li>`).join('')\n}\n"],"names":["elements","searchForm","document","querySelector","list","onFormSubmit","evt","preventDefault","_elements","currentTarget","city","days","serviceWeather","value","then","data","innerHTML","createMarkup","forecast","forecastday","catch","err","console","log","finally","target","reset","params","URLSearchParams","key","q","lang","fetch","concat","resp","ok","Error","statusText","json","arr","map","param","date","_day","day","avgtemp_c","_condition","condition","icon","text","join","addEventListener"],"version":3,"file":"index.f3ef48bf.js.map"}